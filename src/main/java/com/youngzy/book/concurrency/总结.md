# Ch02 线程安全性
- 无状态（没有共享变量）的对象一定是线程安全的，如 StatelessFactorizer 类
- 当执行时间较长的计算或无法快速完成的操作时（如网络连接、文件读写等），一定不能持有锁

# Ch03 对象的共享
- 小建议：对于服务器应用程序，启动JVM时一定要指定 `-server` 命令行选项。Server模式的JVM比Client模式的进行了更多的优化

## volatile

> 加锁机制既可以确保可见性又可以确保原子性，而 `volatile` 变量只能确保可见性
>

当且仅当同时满足以下所有条件时才应该使用 volatile 变量：
1. 对变量的写入操作不依赖变量的当前值，或者能够确保只有单个线程更新变量的值
2. 该变量不会与其他状态变量一起纳入不变性条件中
3. 在访问变量时不需要加锁

## 不可变对象
不可变对象一定是线程安全的

满足以下条件时，对象才是不可变的：
- 对象创建以后其状态就不能修改
- 对象的所有域都是 `final` 类型
- 对象是正确创建的（没有this引用逸出）


